<template>
     <div class="container">
      <div>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Impedit dolorem hic non perferendis obcaecati nulla
        qui, magni fugiat, reprehenderit vel delectus ipsam! Sapiente, officia quibusdam. Iste qui facere recusandae
        totam sit veniam rem eum nesciunt dicta doloribus sequi fugiat unde quidem et quae repellendus, officiis dolore
        voluptatum quaerat voluptatem tempora eveniet error, iusto optio! Molestias, molestiae doloribus delectus
        inventore minus expedita dolorem totam. Aliquid, quisquam deserunt. Nisi sint quidem nostrum necessitatibus
        voluptatum ullam facilis ipsa error consequuntur atque! Quos molestias eum tenetur ut libero nobis, eos
        consequuntur. Quis, nam accusantium omnis libero sint veniam officia! Alias excepturi autem facilis non enim
        rerum sit magni voluptatem error ex delectus ea voluptates odio necessitatibus omnis quidem eligendi ratione
        quae est, praesentium explicabo, commodi hic! Laboriosam cupiditate sequi consequatur atque nihil iusto eaque
        quaerat velit laudantium natus, veniam reiciendis corrupti quibusdam quam incidunt. Facilis deserunt architecto
        illum neque numquam eligendi, sapiente esse qui laborum incidunt dolore magnam veniam minus fuga repudiandae,
        natus ex non! Sit odio non, fuga excepturi ut quidem officiis veniam. Amet minima consequatur voluptatibus nobis
        laboriosam consectetur soluta accusantium ad! Aliquam exercitationem asperiores voluptates consectetur impedit
        numquam laborum vitae delectus nihil! Voluptatibus distinctio pariatur autem consectetur architecto ratione
        aspernatur, veniam earum provident sunt ad eos, repellat vitae! Ab similique tempora molestiae earum dolorum
        repellendus, error quidem hic pariatur rem cum cumque expedita nulla enim! Porro sed quo eveniet quaerat omnis.
        Sed dolores consequuntur at aut a doloremque repellat commodi quisquam delectus nulla amet voluptatem adipisci,
        iste aspernatur! Ratione excepturi odit rem nisi aperiam fugiat voluptatem numquam incidunt, quae nam
        exercitationem, laborum reprehenderit id dicta ut molestias quibusdam nobis? Et est eaque veniam ad. Facere quam
        necessitatibus voluptatibus, numquam voluptas quia eligendi, consequuntur labore sint alias nemo. Nemo,
        aspernatur amet. Neque deserunt est officia voluptatibus, esse ipsam ipsa assumenda maiores obcaecati, molestias
        reprehenderit error in debitis architecto ad. Facere sit doloribus eum cum pariatur, vero ducimus maxime. Aut
        totam corporis praesentium ipsam, eum nostrum incidunt odio, in sed, adipisci magnam laborum pariatur omnis at
        ullam expedita libero modi et consectetur eligendi recusandae? Praesentium aliquid, quaerat corrupti maxime
        corporis rerum est quibusdam suscipit nihil. Provident hic alias nemo facilis eius atque aliquam voluptas.
        Molestiae dolorum fugiat cupiditate repellat quod sequi placeat similique iusto atque, reprehenderit asperiores
        mollitia, ad nostrum dignissimos ipsam voluptas voluptates repudiandae architecto numquam. Molestiae magni
        veniam quos illo, fuga laborum dolorum officiis qui mollitia quasi nobis totam unde nesciunt repudiandae non
        debitis enim sit itaque deleniti doloribus facere deserunt repellendus vitae. Est, itaque consequuntur!
        Praesentium alias libero recusandae inventore, optio provident ab quae iste odit facere! Eius molestias dolorum
        repellendus nesciunt? Voluptatibus veritatis non ducimus aliquam quisquam minus saepe! Dolorum odio nostrum
        modi, deserunt commodi impedit? Aut ut optio amet, nam itaque maxime nesciunt ipsum iure in eveniet libero
        accusantium vel, quibusdam voluptatem repudiandae quisquam tempore velit voluptates expedita dignissimos
        obcaecati sit. Commodi consectetur enim quos, animi culpa a adipisci! Porro voluptate esse non, similique sunt
        iure quod alias tenetur nesciunt amet illum est, laboriosam rerum itaque! Porro, veniam.. Lorem ipsum dolor sit
        amet, consectetur adipisicing elit. Placeat reiciendis aut consequatur rem impedit sequi earum possimus,
        corrupti reprehenderit iste fuga doloremque maiores? Quae mollitia porro dolore, eius adipisci quo amet animi
        fugiat laborum perferendis nemo aperiam reiciendis iure provident sint totam tempora cupiditate perspiciatis,
        enim voluptate, aliquid quasi maiores ullam! Fugiat temporibus voluptate optio aliquid, dignissimos assumenda ex
        culpa magni ipsum, at veniam distinctio natus. Dolorum laudantium, repudiandae deleniti minima ad asperiores
        deserunt. Natus, molestias iste. Vero sint consequatur, eligendi incidunt error recusandae aut vel magnam ipsa
        mollitia aperiam saepe laudantium neque autem excepturi rerum temporibus voluptates quam nisi! Officia ullam ex
        aperiam, natus unde mollitia aspernatur eos blanditiis architecto pariatur est laudantium saepe eius illo ipsam
        dolore. Et nostrum tenetur, autem quam, eius natus dolorum corporis voluptates non quibusdam, nemo numquam earum
        vitae fuga ea. Facere totam quia deserunt exercitationem consectetur laudantium aut numquam magnam laboriosam
        officiis, voluptate incidunt dicta, similique, quisquam voluptatem. Eligendi molestias consectetur praesentium.
        Sit suscipit nostrum assumenda cumque exercitationem ipsam nesciunt. Temporibus dolorum eaque commodi quo fugit
        veritatis dolor, voluptas fugiat soluta, necessitatibus doloremque amet eius debitis saepe hic ipsam at dolorem
        aspernatur odit culpa illum, magni placeat adipisci minima? Sed, animi excepturi. Repellat!. Lorem ipsum dolor
        sit amet consectetur, adipisicing elit. Eum quo impedit, dolorem ratione incidunt illo, minus obcaecati, aliquid
        saepe omnis corrupti! Nihil eaque quasi amet aspernatur magnam doloribus placeat delectus, natus cupiditate
        iusto quidem commodi deserunt quam eos ullam qui. Optio voluptate illo aperiam provident laborum saepe quam
        obcaecati ullam. Deleniti similique ut nihil minima obcaecati, dolores hic distinctio dolorum vitae veniam
        temporibus reiciendis deserunt provident recusandae, rem suscipit! Nam similique voluptates laborum modi? Esse
        rerum nemo ipsa assumenda qui cumque corrupti quis quam itaque, provident corporis rem? Sint atque quasi
        possimus ex fugit eum nesciunt, quibusdam incidunt ab fugiat. Voluptatum amet pariatur sed nobis error dolorem
        fugit nesciunt maxime quaerat doloremque labore debitis deleniti architecto placeat laudantium vitae quis
        nostrum iure omnis quas, facilis eaque ipsam! Deleniti nisi nulla nemo nostrum quo distinctio iusto molestiae
        sunt placeat impedit eligendi, recusandae reprehenderit, magni nam, nesciunt ea ipsam a inventore quam! Dolor,
        aliquid similique eaque labore quos numquam hic rem atque optio at illum quam sint recusandae facere ratione
        iure, distinctio harum sit officiis aliquam? Eum possimus, iure animi fugit, assumenda consectetur ea, placeat
        natus perferendis minus reprehenderit temporibus perspiciatis facere! Molestiae eum ad fugiat pariatur et earum.
        Eaque, suscipit labore. Lorem ipsum, dolor sit amet consectetur adipisicing elit. Atque velit a et tempora
        labore reiciendis eligendi architecto minima commodi molestiae blanditiis aperiam consequatur expedita veniam
        sint ducimus, autem, cupiditate nesciunt rem, iure necessitatibus voluptatibus ad consectetur. Tempore illo
        expedita eius veritatis accusantium quia. Qui sed in animi nulla, tenetur quidem quibusdam nisi aliquid pariatur
        vero voluptas consectetur laborum dicta? Id quis praesentium rem nesciunt porro excepturi quo! Beatae
        consequatur, odio cumque repellat unde obcaecati laboriosam, quam commodi voluptatibus nesciunt aspernatur
        corporis laudantium placeat quisquam fuga amet dolorem cum accusamus sed similique eius! Eaque, quibusdam
        accusamus sequi fugiat quidem dolorem aliquam, a impedit, laborum necessitatibus vitae at possimus sed? Sint
        placeat eos expedita, fugiat voluptatem repellat at rem, aliquid recusandae voluptates laborum molestias libero
        vitae ipsum et nemo cumque minus perspiciatis ad fuga soluta harum natus! Nesciunt veritatis eos itaque.
        Assumenda perspiciatis ea quo qui eligendi, reprehenderit molestias cum. Odio esse sit, quibusdam aliquam
        pariatur optio cumque eligendi facere veritatis assumenda, dignissimos, voluptatum illum vero corporis incidunt
        non! Sapiente ipsam qui voluptatum quasi modi officia voluptate rerum tempore corrupti delectus quae illum cum,
        amet optio quaerat sunt fuga? Voluptatem sit odit quo sint voluptate officia dignissimos exercitationem ullam
        hic eum ab aliquam adipisci eius ut perspiciatis libero, asperiores facilis odio. Velit provident ipsam, saepe
        labore repudiandae, sunt mollitia quasi sapiente iste magni aliquam nostrum cum harum officia quos veritatis,
        facere dignissimos temporibus maxime assumenda tenetur. Placeat id, temporibus quos accusantium ex beatae odit
        optio atque accusamus cupiditate quo minima blanditiis tenetur alias neque. Ut blanditiis assumenda dolorum
        nulla sit esse tempora quis ipsam ea porro culpa corrupti sapiente facere, harum possimus architecto totam
        labore voluptatem, aliquid, voluptatum eligendi autem dignissimos? Explicabo deserunt neque aperiam, laborum,
        minima dolore qui exercitationem quis vel rem optio, obcaecati natus odio voluptatum! Quas veniam aspernatur
        voluptate maxime. Quo omnis excepturi quaerat amet quia nulla deleniti eum eligendi accusamus minima
        exercitationem molestias assumenda, eaque ullam ea dolorum fugit consequatur? Doloremque, repudiandae animi,
        excepturi eveniet tempore voluptas tenetur molestias deleniti nemo enim ducimus debitis voluptatum eos veritatis
        ex dolorem temporibus! Quia ullam rerum magnam aliquid mollitia omnis pariatur ipsam, soluta repellendus,
        provident sequi iusto corrupti sed non ad qui numquam. Repellat veniam molestias, ducimus incidunt eius
        mollitia, quibusdam excepturi asperiores assumenda est dicta quaerat tenetur officiis necessitatibus! Vero
        repudiandae quidem esse in facere, officia recusandae assumenda atque ipsum quas quae delectus est amet
        provident, doloribus eum omnis maiores.</div>

      <div id="pixel-to-watch-one"></div>
      <div class="section section-one mt-8">
        <div class="col-1">
          <h2>Heading One</h2>
          <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Neque, libero.</p>
        </div>
        <div class="col-2 ml-4">
          <div>
            <img src="../assets/images/image1.png" class="image-one" alt="screenshot">
          </div>
        </div>
      </div>

      <div id="pixel-to-watch-two"></div>
      <div class="section section-two mt-8">
        <div class="col-1">
          <h2>Heading Two</h2>
          <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Est, distinctio! Consequuntur!</p>
        </div>
        <div class="col-2 ml-4">
          <div>
            <img src="../assets/images/image2.png" class="image-two invisible" alt="screenshot">
          </div>
        </div>
      </div>

      <div id="pixel-to-watch-three"></div>
      <div class="section section-three mt-8">
        <div class="col-1">
          <h2>Heading Three</h2>
          <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim?</p>
        </div>
        <div class="col-2 ml-4">
          <div>
            <img src="../assets/images/image3.png" class="image-three invisible" alt="screenshot">
          </div>
        </div>
      </div>



      <div class="mt-8">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia, nulla repellat numquam vero
        impedit minus, deleniti placeat corrupti, ab accusamus tempora soluta. Nihil iusto molestias aperiam, culpa
        saepe incidunt suscipit consequuntur delectus. Ipsa ducimus repudiandae illo sapiente officia minima blanditiis,
        voluptatem inventore omnis ut nobis impedit. Provident maiores quis perspiciatis explicabo blanditiis iusto
        error, nulla iure dolorem temporibus itaque nemo deserunt voluptatibus laborum consequuntur inventore non nam
        fugit earum ratione qui. Est nihil impedit alias illo a rem quas. Ab, nulla fugiat autem non provident similique
        perferendis sunt natus optio necessitatibus odit? Laudantium commodi, vel minus laborum quia nam blanditiis
        inventore pariatur veniam ex architecto quis, beatae omnis iure cum dolorem excepturi eligendi, nemo earum
        delectus est ut ab tempore mollitia. Quia et accusantium deleniti culpa nemo, quos libero soluta quas ullam
        odit, sint tempora perspiciatis autem similique, praesentium fugit! Exercitationem blanditiis quos ipsa earum,
        voluptates nobis ad, dolores deleniti quibusdam id sequi vel, fuga minus dolorem distinctio perspiciatis
        consectetur quia! Tempora nulla dolorem tempore est magnam rem? Labore voluptatem nihil molestiae, optio ea
        vitae, ducimus dignissimos autem veritatis beatae praesentium architecto enim, unde id laudantium aspernatur eum
        corrupti ipsam modi. Suscipit natus eaque, illum rerum quas aliquam quasi itaque, quo modi ex voluptates non
        incidunt officia illo a possimus dolor, vero soluta eveniet quos! Mollitia est architecto cumque repellendus
        soluta nihil autem nostrum eaque beatae, at explicabo animi doloremque, dolorum provident aliquam dignissimos
        illo alias rem. Libero consectetur ab itaque nostrum alias at saepe harum laboriosam corrupti incidunt qui,
        explicabo deleniti. Ipsum repellendus nihil, error, odio tempora, eligendi libero sunt quibusdam accusamus ipsa
        facilis laudantium deleniti quo ad dolore modi ullam vero unde! Obcaecati at mollitia voluptate repellendus est
        asperiores blanditiis, adipisci ut tempore facere. Nihil odio, placeat sequi saepe ad recusandae unde architecto
        a ex ea doloribus consectetur necessitatibus nobis iste commodi quas expedita quia iusto. Praesentium animi
        dolor tempore explicabo, necessitatibus nisi quisquam sunt et deleniti sapiente autem tempora nobis natus quia
        consequuntur incidunt fuga quos voluptatem. Ex atque iusto modi animi aliquam quisquam corporis, laboriosam
        cupiditate alias tenetur omnis, ullam, labore consectetur fugiat vero. Excepturi nam aperiam, molestiae qui
        eaque quisquam hic nobis, natus, veritatis libero quas accusamus perspiciatis a! Praesentium recusandae
        distinctio blanditiis repudiandae sit optio, quibusdam ea necessitatibus! Distinctio, magnam aliquam dicta iste
        accusantium enim eius earum numquam vitae maxime. Voluptates rem perspiciatis nesciunt hic. Voluptatem, ex
        consequuntur. Porro odio dignissimos atque ducimus amet. Lorem ipsum dolor sit amet consectetur adipisicing
        elit. Saepe adipisci vitae nemo officiis odit reprehenderit commodi. Iusto explicabo laborum minus atque
        nesciunt cupiditate ipsam, temporibus sapiente eligendi beatae similique totam. Vel minus sunt ullam repudiandae
        error, a in quas assumenda sed voluptatem reiciendis ipsa quae asperiores sapiente modi deserunt blanditiis.
        Quidem nam aliquid iusto fugiat, facere nostrum et commodi veniam porro eligendi provident debitis esse, hic
        explicabo earum. Eius animi distinctio nemo aut iure quam ducimus voluptatibus modi, omnis, officiis adipisci
        corporis. Quaerat consequuntur accusantium aliquid fuga. Qui distinctio doloribus tenetur! Ipsa consequatur
        dolore, accusantium itaque quos laborum hic inventore fugit architecto, eius, officia totam excepturi.
        Cupiditate quis molestiae quos deserunt sed, harum voluptas vitae officia a nostrum eum atque enim! Aut eaque
        aliquam delectus consectetur. Vel sint illum amet labore ducimus eum. Odio esse vero quos quaerat, quo optio
        quia officia est dolores dolorum dolor voluptate officiis rerum. Quod, quaerat nisi? Dolor alias, nihil totam
        perferendis rerum odit blanditiis minus itaque repudiandae amet dignissimos, sunt reiciendis repellat ipsam
        nemo, quasi voluptates! Molestias, error. Aperiam, enim, sint necessitatibus ut dignissimos laboriosam labore
        vero sequi tenetur voluptas deserunt, quaerat facilis error hic consequatur. Tempore expedita mollitia explicabo
        molestiae possimus! Aliquid ratione quibusdam beatae atque maxime pariatur illum dolore accusantium. Accusantium
        deserunt nemo et, enim, nobis impedit molestiae nisi amet veritatis, rem atque a ipsa tempore corporis accusamus
        libero id eaque repellat fuga consequuntur similique pariatur dolorem esse officia! Dignissimos nulla cum dolore
        totam beatae tempora aliquam, aut, possimus doloribus maxime vel distinctio! Incidunt, officia voluptatibus.
        Quod quas facere praesentium, voluptatibus placeat velit! Eos, fugit ex veniam, obcaecati similique quo
        consequatur necessitatibus, recusandae libero blanditiis ratione itaque voluptate aspernatur. Excepturi
        reiciendis sit quia, consequatur dolor totam molestias? Suscipit labore praesentium veritatis, tenetur
        consequuntur laudantium ducimus beatae maxime sunt debitis qui quis cumque omnis, in nisi cupiditate minima?
        Sint officia commodi, porro dolorem labore dolores recusandae corporis, iure, maiores fuga aliquid deleniti. Id,
        temporibus. Numquam vitae et assumenda nam ullam ut ipsum provident sed reprehenderit eius labore, soluta
        nostrum recusandae quod repellendus sit iure explicabo delectus repudiandae ipsam fugiat! Ipsum veniam quae
        autem. Impedit est excepturi minima quae eius velit ipsum earum natus voluptatem accusamus molestias molestiae
        itaque suscipit porro adipisci aliquid maiores illum corrupti deleniti eum hic, magni totam quibusdam quod?
        Iusto aliquid incidunt at ratione laborum doloremque facere nobis obcaecati officiis, temporibus molestiae id
        veniam eum minima, voluptatibus ullam esse vitae, tempore rem et enim porro dicta earum necessitatibus? Maxime
        commodi cumque iusto nostrum explicabo fuga quas quos iure repudiandae velit. Perspiciatis, numquam laudantium?
        Doloribus corrupti ad laboriosam sit, magnam quasi quaerat iste placeat debitis excepturi cupiditate quas alias
        velit ullam. Repellendus omnis illo eveniet voluptates suscipit alias eum quod totam corporis vel quisquam enim
        atque commodi, recusandae similique fuga excepturi nesciunt minima nihil ab numquam iste. Accusantium quisquam
        consequuntur rerum cumque architecto officiis itaque adipisci officia voluptas illum sed, ex inventore, nemo
        animi rem. Accusantium eveniet ipsa atque quo eligendi provident architecto nesciunt, magni, quas repellat
        praesentium optio expedita dolore.</div>
    </div>
</template>

<style>
.container {
  max-width: 1000px;
  margin: 40px auto;
}

.col-1 {
  width: 33.33%;
}

.col-2 {
  width: 66.66%;
}

.ml-4 {
  margin-left: 24px;
}

img {
  max-width: 100%;
}

.fixed {
  position: fixed;
  width: 650px;
}

.section {
  display: flex;
  align-items: center;
  height: 400px;
}

/* .section-one {
  background: lightblue;
}
.section-two {
  background: lightgreen;
}
.section-three {
  background: pink;
} */

.mt-8 {
  margin-top: 240px;
}

.invisible {
  visibility: hidden;
}

#pixel-to-watch-one, #pixel-to-watch-two, #pixel-to-watch-three {
  width: 10px;
  height: 10px;
  background: green;
  visibility: hidden;
}
</style>

<script>
export default {
  mounted() {
    const sectionOneImage = document.querySelector('.image-one')
const sectionTwoImage = document.querySelector('.image-two')
const sectionThreeImage = document.querySelector('.image-three')

const topValue = '252px'

const options = {
  threshold: 1,
}

const observerOne = new IntersectionObserver(entries => {
  if (entries[0].boundingClientRect.y < 0) {
    sectionOneImage.classList.add('fixed')
    sectionOneImage.style.setProperty('top', topValue)

    sectionTwoImage.classList.add('invisible')
    sectionThreeImage.classList.add('invisible')
  } else {
    sectionOneImage.classList.remove('fixed')
    sectionOneImage.classList.remove('invisible')

    sectionTwoImage.classList.add('invisible')
    sectionThreeImage.classList.add('invisible')
  }
}, options)

observerOne.observe(document.querySelector('#pixel-to-watch-one'))


const observerTwo = new IntersectionObserver(entries => {
  console.log(entries[0])
  if (entries[0].boundingClientRect.y < 0) {
    sectionTwoImage.classList.remove('invisible')
    sectionTwoImage.classList.add('fixed')
    sectionTwoImage.style.setProperty('top', topValue)

    sectionOneImage.classList.add('invisible')
    sectionThreeImage.classList.add('invisible')
  } else {
    if (entries[0].isIntersecting && sectionOneImage.classList.contains('invisible')) {
      sectionTwoImage.classList.remove('invisible')
      sectionTwoImage.classList.add('fixed')
      sectionTwoImage.style.setProperty('top', topValue)

      sectionThreeImage.classList.add('invisible')
    }
  }
}, options)

observerTwo.observe(document.querySelector('#pixel-to-watch-two'))


const observerThree = new IntersectionObserver(entries => {
  if (entries[0].boundingClientRect.y < 0) {
    sectionThreeImage.classList.remove('fixed')
    sectionThreeImage.classList.remove('invisible')

    sectionOneImage.classList.remove('fixed')
    sectionTwoImage.classList.remove('fixed')

    sectionOneImage.classList.add('invisible')
    sectionTwoImage.classList.add('invisible')

  } else {
    sectionThreeImage.classList.add('fixed')
    sectionThreeImage.style.setProperty('top', topValue)
  }
}, options)

observerThree.observe(document.querySelector('#pixel-to-watch-three'))
  },
}
</script>
